= link_to 'Back', squads_path, class: 'btn btn-default'

- if policy(@squad).edit?
  = link_to 'Edit', edit_squad_path(@squad), class: 'btn btn-secondary'
  = link_to 'Invite friend to squad',
    new_squad_member_invitation_path(@squad),
    class: 'btn btn-primary'

%h1= @squad.name

%h2 Ranking

- if @squad.ranking_position.present?
  .card.text-center.mb-4
    .card-body
      .card-subtitle.mb-2.text-muted
        Squad global ranking
      .card-title.display-4
        = "# #{@squad.ranking_position}"
      .card-text.small.text-success
        = "#{@squad.points_total} points"
- else
  No ranking yet...

- if policy(@squad).show_members?
  %h2 Members

  .squad-members-statuses.mb-2
    .btn-group.btn-group-sm
      %button.btn.btn-primary{ onclick: "showSquadMembersList('accepted');" } Accepted
      %button.btn.btn-primary{ onclick: "showSquadMembersList('invited');" } Invited
      %button.btn.btn-primary{ onclick: "showSquadMembersList('rejected');" } Rejected

  .squad-members-lists
    .accepted.squad-members-list
      = render 'squad_members', squad_members: @squad.accepted_squad_members.ordered
    .invited.squad-members-list.d-none
      = render 'squad_members', squad_members: @squad.invited_squad_members.ordered
    .rejected.squad-members-list.d-none
      = render 'squad_members', squad_members: @squad.rejected_squad_members.ordered
